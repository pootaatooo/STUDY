#include <iostream>

using namespace std;

int main() {
    string s;
    
    while(getline(cin,s)) {
        if(s == ".") continue;
        
        int l = s.length();
        int k = 0;
        int a[l+1] = {0,};
        
        for(int i=0;i<l;i++) {
            if(s[i] == '(') {
                a[k] = 1;
                k++;
            }
            else if(s[i] == ')') {
                a[k] = -1;
                k++;
            }
            else if(s[i] == '[') {
                a[k] = 2;
                k++;
            }
            else if(s[i] == ']') {
                a[k] = -2;
                k++;
            }
 
        }
        
        bool re = false;
        int q = 0;
        a[-1] = 0;
        
        for(int i=0;i<k;i++) {
            int b[k+1] = {0,};
            
            if(a[i] > 0) {
                b[q] = a[i];
                q++;
            }
            
            else if(a[i] == -1) {
                if(a[i-1] != 1) {
                    re = true;
                    break;
                }
                b[q--];
                re = false;
            }
            else if(a[i] == -2) {
                if(a[i-1] != 2) {
                    re = true;
                    break;
                }
                b[q--];
                re = false;
            }
        }
        
        for(int i=0;i<k;i++) {
            cout << a[i] << ' ';
        }
        cout << endl;
        
        // if(re == false) cout << "yes" << '\n';
        // else cout << "no" << '\n';
        
    }
    

    
}
